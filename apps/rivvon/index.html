<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link
    rel="icon"
    type="image/svg+xml"
    href="/favicon.svg"
  />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no"
  />

  <link
    rel="preconnect"
    href="https://fonts.googleapis.com"
  >
  <link
    rel="preconnect"
    href="https://fonts.gstatic.com"
    crossorigin
  >
  <link
    href="https://fonts.googleapis.com/css2?family=Cascadia+Code:ital,wght@0,200..700;1,200..700&display=swap"
    rel="stylesheet"
  >


  <title>rivvon</title>
</head>

<body>
  <!-- Blurred texture background -->
  <div
    id="blurredBackground"
    class="blurred-background"
  ></div>


  <!-- Renderer indicator -->
  <div
    id="rendererIndicator"
    class="renderer-indicator"
  ></div>

  <!-- Logo in top left -->
  <a
    id="appLogo"
    href="/"
    class="app-logo"
  >
    <img
      src="/rivvon.svg"
      alt="Rivvon"
    />
  </a>

  <!-- Auth controls in top right -->
  <div
    id="authContainer"
    class="auth-container"
  >
    <button
      id="loginBtn"
      class="auth-btn login-btn"
      title="Sign in with Google"
    >
      <span class="material-symbols-outlined">
login
</span>
      <span>Sign in</span>
    </button>
    <div
      id="userInfo"
      class="user-info cursive"
      style="display: none;"
    >
      <span
        id="userName"
        class="user-name"
      ></span>
      <button
        id="logoutBtn"
        class="auth-btn logout-btn"
        title="Sign out"
      >
       <span class="material-symbols-outlined">
logout
</span>
      </button>
    </div>
  </div>

  <!-- Finish Drawing button with countdown (shown in drawing mode) -->
  <button
    id="finishDrawingBtn"
    title="Finish drawing and create ribbons"
  >
    <img
      src="/check.svg"
      class="finish-icon"
      alt="Finish"
    />
    <span id="countdownSeconds"></span>
  </button>

  <!-- Bottom right menu container -->
  <div id="bottomRightMenu">
    <!-- Draw mode toggle button -->
    <button
      id="drawToggleBtn"
      title="Toggle drawing mode"
    >
      <img
        src="/draw.svg"
        class="toggle-icon draw-icon"
        alt="Draw mode"
      />
    </button>

    <!-- Text to SVG button -->
    <button
      id="textToSvgBtn"
      title="Create ribbon from text"
    >
      <span class="material-symbols-outlined">
text_fields
</span>
    </button>

    <!-- Browse remote textures button -->
    <button
      id="browseTexturesBtn"
      title="Browse texture library"
    >
     <span class="material-symbols-outlined">
grid_view
</span>
    </button>

    <button
      id="importSvgBtn"
      title="Import SVG or ZIP texture pack"
    >
      <span class="material-symbols-outlined">
upload
</span>
    </button>

    <!-- Flow animation toggle button -->
    <button
      id="flowToggleBtn"
      title="Toggle texture flow animation"
    >
      <span class="material-symbols-outlined">
sprint
</span>
    </button>

    <button
      id="fullscreenBtn"
      title="Toggle fullscreen"
    >
      <span class="material-symbols-outlined">
fullscreen
</span>
    </button>
  </div>

  <!-- Text Input Panel (hidden by default) -->
  <div
    id="textInputPanel"
    class="text-input-panel"
  >
    <div class="text-panel-header">
      <h3>rivvon from text</h3>
      <button
        id="closeTextPanelBtn"
        class="close-btn"
      >&times;</button>
    </div>
    <div class="text-panel-content">
      <label for="textInputField">Enter text:</label>
      <input
        type="text"
        id="textInputField"
        placeholder="Type your text here..."
      />
      <label for="fontSelector">Font:</label>
      <select id="fontSelector">
        <option value="">Loading fonts...</option>
      </select>
      <button
        id="generateTextBtn"
        class="generate-btn"
      >Go</button>
    </div>
  </div>

  <!-- Hidden file input for SVG/ZIP import -->
  <input
    type="file"
    id="svgFileInput"
    accept=".svg,.zip"
    style="display: none;"
  />

  <div id="checkerboard"></div>

  <canvas id="drawCanvas"></canvas>

  <script
    type="module"
    src="/src/main.js"
  ></script>
  <script>
    // Load Eruda dev tools if ?eruda parameter is present
    if (new URLSearchParams(window.location.search).has('eruda')) {
      const script = document.createElement('script');
      script.src = 'https://cdn.jsdelivr.net/npm/eruda';
      script.onload = () => eruda.init();
      document.body.appendChild(script);
    }
  </script>
</body>

</html>